version: '3.3'

services:
    webshopAPIDB:
        container_name: webshopAPIDB
        hostname: webshopAPIDB
        environment:
            - ACCEPT_EULA=Y
            - SA_PASSWORD=Wachtwoord1!
            - MSSQL_PID=Express
        ports:
            - '1433:1433'
        image: 'mcr.microsoft.com/mssql/server:latest'

    webshopapi:
      image: ${DOCKER_REGISTRY-}webshopapi
      build:
        context: .
        dockerfile: WebshopAPI/Dockerfile
      depends_on:
        - webshopAPIDB